<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Mapa Satelital con Leaflet y Google Maps</title>
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css" />
  <style>
    #map {
      height: 600px;
      width: 100%;
    }
  </style>
</head>
<body>

<h3>Mapa Satelital con Leaflet y Google Maps</h3>
<div id="map"></div>

<script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"></script>
<script src="https://maps.googleapis.com/maps/api/js?key=TU_API_KEY"></script>
<script>
  // Inicializar el mapa
  var map = L.map('map').setView([-17.390744, -66.068831], 17); // Coordenadas iniciales

  // Añadir la capa de Google Maps Satelital
  L.tileLayer('https://{s}.google.com/vt/lyrs=s&x={x}&y={y}&z={z}', {
    maxZoom: 50,
    subdomains: ['mt0', 'mt1', 'mt2', 'mt3'],
  }).addTo(map);

  // Definir íconos personalizados
  var icons = {
    'apoyo academico': L.icon({ iconUrl: 'iconos/Apoyo Academico.png', iconSize: [32, 32], iconAnchor: [16, 32] }),
    'arquitectura': L.icon({ iconUrl: 'iconos/Arquitectura.png', iconSize: [32, 32], iconAnchor: [16, 32] }),
    'computo': L.icon({ iconUrl: 'iconos/Centro de Computos.png', iconSize: [32, 32], iconAnchor: [16, 32] }),
    'futbol': L.icon({ iconUrl: 'iconos/cancha-de-futbol.png', iconSize: [32, 32], iconAnchor: [16, 32] }),
    'aulas': L.icon({ iconUrl: 'iconos/Aulas.png', iconSize: [32, 32], iconAnchor: [16, 32] }),
    'baño administrativo': L.icon({ iconUrl: 'iconos/Baño Administrativo.png', iconSize: [32, 32], iconAnchor: [16, 32] }),
    'baño': L.icon({ iconUrl: 'iconos/Baño.png', iconSize: [32, 32], iconAnchor: [16, 32] }),
    'biblioteca': L.icon({ iconUrl: 'iconos/Biblioteca.png', iconSize: [32, 32], iconAnchor: [16, 32] }),
    'cajas': L.icon({ iconUrl: 'iconos/Cajas.png', iconSize: [32, 32], iconAnchor: [16, 32] }),
    'cartera': L.icon({ iconUrl: 'iconos/Cartera.png', iconSize: [32, 32], iconAnchor: [16, 32] }),
    'centro de computos': L.icon({ iconUrl: 'iconos/Centro de Computos.png', iconSize: [32, 32], iconAnchor: [16, 32] }),
    'comedor': L.icon({ iconUrl: 'iconos/Comedor.png', iconSize: [32, 32], iconAnchor: [16, 32] }),
    'fotocopias': L.icon({ iconUrl: 'iconos/Fotocopias.png', iconSize: [32, 32], iconAnchor: [16, 32] }),
    'informacion': L.icon({ iconUrl: 'iconos/Informacion.png', iconSize: [32, 32], iconAnchor: [16, 32] }),
    'investigacion': L.icon({ iconUrl: 'iconos/Investigacion.png', iconSize: [32, 32], iconAnchor: [16, 32] }),
    'jefatura': L.icon({ iconUrl: 'iconos/Jefatura.png', iconSize: [32, 32], iconAnchor: [16, 32] }),
    'medicina': L.icon({ iconUrl: 'iconos/Medicina.png', iconSize: [32, 32], iconAnchor: [16, 32] }),
    'sala de estudiantes': L.icon({ iconUrl: 'iconos/Sala de Estudiantes.png', iconSize: [32, 32], iconAnchor: [16, 32] }),
  };


  // Coordenadas de las aulas desde el CSV (ahora con el campo 'tipo' incluido)
var aulas = [
  { aula: 'Cc1', coords: [-17.39074406436575, -66.06883131361198], descripcion: 'Ingenieria/Arquitectura', tipo: 'computo' },
  { aula: 'Cc2', coords: [-17.3906892742238, -66.06878984748816], descripcion: 'Ingenieria/Arquitectura', tipo: 'computo' },
  { aula: 'Cc3', coords: [-17.390640519454806, -66.06874154583744], descripcion: 'Ingenieria/Arquitectura', tipo: 'computo' },
  { aula: 'Cc4', coords: [-17.3905766499916, -66.06872924315336], descripcion: 'Ingenieria/Arquitectura', tipo: 'computo' },
  { aula: 'C1', coords: [-17.390323708504397, -66.06889866631738], descripcion: 'Medicina', tipo: 'medicina' },
  { aula: 'C2', coords: [-17.390356286984805, -66.06883512994747], descripcion: 'Medicina', tipo: 'medicina' },
  { aula: 'C3', coords: [-17.390399724949642, -66.06878486983396], descripcion: 'Medicina', tipo: 'medicina' },
  { aula: 'C4', coords: [-17.39042234888558, -66.06873460972047], descripcion: 'Medicina', tipo: 'medicina' },
  { aula: 'D1', coords: [-17.390546571584565, -66.0685049906212], descripcion: 'Arquitectura', tipo: 'arquitectura' },
  { aula: 'D2', coords: [-17.390530428868455, -66.06852754521915], descripcion: 'Arquitectura', tipo: 'arquitectura' },
  { aula: 'D3', coords: [-17.390499219613282, -66.06857603760476], descripcion: 'Arquitectura', tipo: 'arquitectura' },
  { aula: 'D4', coords: [-17.390473391260144, -66.06862565772028], descripcion: 'Arquitectura', tipo: 'arquitectura' },
  { aula: 'D5', coords: [-17.390456253579767, -66.06866174424653], descripcion: 'Arquitectura', tipo: 'arquitectura' },
  { aula: 'A 1', coords: [-17.390792458523446, -66.06898379479763], descripcion: 'Medicina', tipo: 'medicina' },
  { aula: 'A 2', coords: [-17.39083725153241, -66.06890869295022], descripcion: 'Medicina', tipo: 'medicina' },
  { aula: 'A3', coords: [-17.39102474171155, -66.06875205134645], descripcion: 'Medicina', tipo: 'medicina' },
  { aula: 'Chicas', coords: [-17.390352858897295, -66.06840913357988], descripcion: 'AREAS DE SANIDAD', tipo: 'baño' },
  { aula: 'Chicos', coords: [-17.390360392172315, -66.06835274708499], descripcion: 'Medicina', tipo: 'baño' },
  { aula: 'Cancha de Futbol', coords: [-17.390641828195502, -66.06791322350406], descripcion: 'AREAS DE CONVIVENCIA', tipo: 'futbol' },
  { aula: 'Comedor', coords: [-17.39049366775807, -66.06783855378008], descripcion: 'AREAS DE CONVIVENCIA', tipo: 'comedor' },
  { aula: 'Jefaturas', coords: [-17.390639907505015, -66.0681685266774], descripcion: 'Jefaturas', tipo: 'jefatura' },
  { aula: 'Biblioteca', coords: [-17.390906920927275, -66.06843625061808], descripcion: 'Biblioteca', tipo: 'biblioteca' },
  { aula: 'Cajas-Ventanilla Unica', coords: [-17.39078854120929, -66.06845203883664], descripcion: 'Cajas-Ventanilla Unica', tipo: 'cajas' },
  { aula: 'Cartera', coords: [-17.390610704031612, -66.06833444561231], descripcion: 'Cartera', tipo: 'cartera' },
  { aula: 'Sala Audio Visual', coords: [-17.390940452135812, -66.06870538980458], descripcion: 'Sala Audio Visual', tipo: 'aulas' },
  { aula: 'Fotocopiadora', coords: [-17.390888795550488, -66.06875162673037], descripcion: 'Fotocopiadora', tipo: 'fotocopias' },
  { aula: 'Informacion y Marqueting', coords: [-17.390873729043694, -66.0688508669614], descripcion: 'Información y Marketing', tipo: 'informacion' },
  { aula: 'Apoyo Académico', coords: [-17.390668, -66.068416], descripcion: 'Apoyo Académico', tipo: 'apoyo academico' },
  { aula: 'Sala de Estudiantes', coords: [-17.390635, -66.068388], descripcion: 'Sala de Estudiantes', tipo: 'sala de estudiantes' },
  { aula: 'Cartera', coords: [-17.390620, -66.068343], descripcion: 'Cartera', tipo: 'cartera' },
  { aula: 'Aulas Docente', coords: [-17.390631, -66.068337], descripcion: 'Aulas Docente', tipo: 'aulas' },
  { aula: 'Aula T1', coords: [-17.390702,-66.068144], descripcion: 'Aula T', tipo: 'aulas' },
  { aula: 'Aula T2', coords: [-17.390696,-66.068173], descripcion: 'Aula T', tipo: 'aulas' },
  { aula: 'Aula T3', coords: [-17.390707, -66.068341], descripcion: 'Aula T', tipo: 'aulas' },
  { aula: 'Laboratorio de Telecom', coords: [-17.390709, -66.068333], descripcion: 'Laboratorio de Telecom', tipo: 'aulas' },
  { aula: 'Secretaria Regional', coords: [-17.390726, -66.068352], descripcion: 'Secretaria Regional', tipo: 'aulas' },
  { aula: 'Sala de Investigacion', coords: [-17.390681, -66.068340], descripcion: 'Sala de Investigación', tipo: 'investigacion' },
  { aula: 'Baños Administrativo', coords: [-17.390709, -66.068429], descripcion: 'Baño Administrador', tipo: 'baño administrativo' },
  { aula: 'Aula G-16', coords: [-17.390649, -66.068302], descripcion: 'Aula G', tipo: 'aulas' },
  { aula: 'Aula G-19', coords: [-17.390693, -66.068328], descripcion: 'Aula G', tipo: 'aulas' },
  { aula: 'Aula G-15', coords: [-17.390617,-66.068234], descripcion: 'Aula G', tipo: 'aulas' },
  { aula: 'Aula G-5', coords: [-17.390737, -66.068359], descripcion: 'Aula G', tipo: 'aulas' },
  { aula: 'Aula G-4', coords: [-17.390751,-66.068273], descripcion: 'Aula G', tipo: 'aulas' },
  { aula: 'Aula G-10', coords: [-17.390678,-66.068212], descripcion: 'Aula G', tipo: 'aulas' },
  { aula: 'Aula G-2', coords: [-17.390682,-66.068177], descripcion: 'Aula G', tipo: 'aulas' },
  { aula: 'Aula G-3', coords: [-17.390749,-66.068229], descripcion: 'Aula G', tipo: 'aulas' },
  { aula: 'Aula G-11', coords: [-17.390707,-66.068128], descripcion: 'Aula G', tipo: 'aulas' },
  { aula: 'Aula G-7', coords: [-17.390756,-66.068501], descripcion: 'Aula G', tipo: 'aulas' },
  { aula: 'Aula G-8', coords: [-17.390795,-66.068412], descripcion: 'Aula G', tipo: 'aulas' },
  { aula: 'Aula G-9', coords: [-17.390833,-66.068357], descripcion: 'Aula G', tipo: 'aulas' },
  { aula: 'Aula G-6', coords: [-17.390768,-66.068454], descripcion: 'Aula G', tipo: 'aulas' }


];

var markers = [];

  // Añadir los marcadores al mapa con íconos personalizados
  aulas.forEach(function(punto) {
    var icono = icons[punto.tipo] || icons['aulas']; // Asigna el ícono basado en el tipo, o el ícono de aulas si no se especifica
    var marker = L.marker(punto.coords, { icon: icono }).addTo(map);
    marker.bindPopup(`<b>${punto.aula}</b><br>${punto.descripcion}`);
    markers.push({ marker: marker, aula: punto.aula.toLowerCase() });
  });

  // Función para filtrar marcadores
  function filterMarkers(searchText) {
    searchText = searchText.toLowerCase(); // Convertir búsqueda a minúsculas
    markers.forEach(function(entry) {
      if (entry.aula.includes(searchText)) {
        map.addLayer(entry.marker); // Mostrar marcador
      } else {
        map.removeLayer(entry.marker); // Ocultar marcador
      }
    });
  }

  // Evento de búsqueda
  document.getElementById('searchBar').addEventListener('input', function() {
    var searchText = this.value;
    filterMarkers(searchText);
  });
</script>

</body>
</html>
